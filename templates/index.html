{% extends "base.html" %}

{% block content %}
<!-- 헤더 -->
<header class="main-header">
    <div class="container-fluid">
        <h1 class="header-title">1MinSpeech Chat</h1>
    </div>
</header>

<!-- 메인 컨테이너 -->
<div class="main-container">
    <!-- 왼쪽 사이드바 -->
    <div class="left-sidebar">
        <!-- 파일 드래그 업로드 영역 -->
        <br><br><br>
        <div class="upload-section">
            <div class="upload-area" id="uploadArea">
                <div class="upload-content">
                    <div class="upload-icon"></div>
                    <div class="upload-text">
                        <p><strong>파일을 여기에 드래그, 클릭하여 업로드</strong></p>
                        <p class="upload-subtitle">파일크기 : 최대 16MB</p>
                        <p class="upload-subtitle">PDF, DOCX, TXT, CSV 등 지원</p>
                    </div>
                    <input type="file" id="fileInput" class="file-input" accept=".pdf,.docx,.doc,.txt,.csv">
                </div>
            </div>
            
            <div class="upload-actions">
                <button id="uploadBtn" class="upload-btn">파일 선택</button>
            </div>
        </div>

        <!-- 업로드된 문서 섹션 -->
        <div class="uploaded-documents">
            <h3 class="section-title">업로드한 문서</h3>
            <div id="documentList" class="document-list">
                <!-- 업로드된 문서들이 여기에 표시됩니다 -->
            </div>
        </div>

        <!-- 설정된 보고서/발표자료 섹션 
        <div class="preset-reports">
            <h3 class="section-title">설정된 보고서/발표자료</h3>
            <div class="report-list">
                <div class="report-item">
                    <span class="report-icon"></span>
                    <span class="report-name">pptx_sample.pptx</span>
                    <span class="report-size"></span>
                </div>
                <div class="report-item">
                    <span class="report-icon"></span>
                    <span class="report-name">report_sample.docx</span>
                    <span class="report-size"></span>
                </div>
            </div>
        </div>-->
    </div>

    <!-- 오른쪽 채팅 영역 -->
    <div class="chat-area">
        <!-- 채팅 헤더 -->
        <div class="chat-header">
            <h2>1MinSpeech Chat</h2>
            <p class="chat-subtitle">1분 스피치를 생성하고 올린 파일의 내용에 대해 대화해보세요.</p>
            <p class="chat-description">모든 데이터는 유출 걱정없이 안전하게 이용하실 수 있습니다.</p>
            
            <button class="new-chat-btn" id="resetBtn">
                <span class="new-chat-icon"></span>
                새로운 대화 시작하기
            </button>
        </div>

        <!-- 채팅 컨텐츠 영역 -->
        <div class="chat-content">
            <!-- 안내 메시지 -->
            <div class="welcome-message">
                <h4>어떤 새로운 대화를 시작하세요?</h4>
                <div class="suggestion-cards">
                    <div class="suggestion-card" data-prompt="파일에 대해 설명해주세요">
                        <span class="suggestion-icon"></span>
                        <span>ex. 파일에 대해 설명해주세요.</span>
                    </div>
                </div>
                
                <div class="suggestion-cards">
                    <div class="suggestion-card" data-prompt="안녕하세요! 1MinSpeech에 대해 궁금한 점이 있으신가요? 1MinSpeech는 다양한 파일 형식(문서, 이미지, 영상) 등을 업로드하여 AI 도우미와 자동으로 분석하고 소통할 수 있는 서비스입니다. 주요 특징과 다양한 비즈 구조를 통한 데이터 지역화. **효율성 데이터 관리**: Pinecone을 사용하고, 창을 종료하거나 1시간이 지나면 데이터가 자동으로 삭제됩니다.">
                        <span class="suggestion-icon"></span>
                        <span>ex. 1MinSpeech가 궁금해요.</span>
                    </div>
                </div>

                <div class="suggestion-cards">
                    <div class="suggestion-card" data-prompt="이 문서에 1MinSpeech에 대한 궁금한 점에서 최대한 주요 기능과 장점 및 사용 방식이 있습니다">
                        <span class="suggestion-icon"></span>
                        <span>ex. 업로드된 파일은 창을 종료하거나, 1시간이지나면 자동으로 삭제됩니다.</span>
                    </div>
                </div>
            </div>

            <!-- 채팅 메시지 영역 -->
            <div id="chatMessages" class="chat-messages"></div>
        </div>

        <!-- 채팅 입력 영역 -->
        <div class="chat-input-area">
            <div class="input-container">
                <input type="text" id="queryInput" class="chat-input" placeholder="어떤걸 물어보시겠어요?">
                <button id="sendBtn" class="send-btn">
                    <span class="send-icon">▲</span>
                </button>
                <button id="reportBtn" class="report-btn">1분 스피치 생성</button>
            </div>
            <div class="input-footer">
                <p>궁금한 것이 있으시면 언제든 물어보세요</p>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="main-footer">
    <div class="container-fluid">
        <div class="footer-content">
            <div class="footer-left">
                <span>Powered by  GROQ llama-3.1-8b-instant & Pinecone</span>
            </div>
            <div class="footer-center">
                <span>AI 기반 1분스피치 생성과 문서 분석 및 대화 시스템</span>
            </div>
            <div class="footer-right">
                <span>© 2025 k-j-hyun. All rights reserved. contact spellrain@naver.com.</span>
            </div>
        </div>
    </div>
</footer>
{% endblock %}